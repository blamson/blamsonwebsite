---
title: Polars vs. Pandas Benchmarking
author: Brady Lamson
date: '2024-05-23'
slug: polars-vs-pandas-benchmarking
categories: []
tags: []
description: ~
image: ~
math: ~
license: ~
hidden: no
comments: no
---

<link href="{{< blogdown/postref >}}index.en_files/htmltools-fill/fill.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.en_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index.en_files/plotly-binding/plotly.js"></script>
<script src="{{< blogdown/postref >}}index.en_files/typedarray/typedarray.min.js"></script>
<script src="{{< blogdown/postref >}}index.en_files/jquery/jquery.min.js"></script>
<link href="{{< blogdown/postref >}}index.en_files/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.en_files/crosstalk/js/crosstalk.min.js"></script>
<link href="{{< blogdown/postref >}}index.en_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.en_files/plotly-main/plotly-latest.min.js"></script>


<div id="overview" class="section level1">
<h1>Overview</h1>
<p>I’ve been itching for an excuse to learn Polars and a friend of mine gave me the idea to find a large data file and do some basic benchmarking on it and pandas. Polars claims to be a lot faster and more efficient, so let’s put it to the test eh?</p>
</div>
<div id="the-data" class="section level1">
<h1>The Data</h1>
<p>Quick overview of this data taken from the source:</p>
<blockquote>
<p>This data represents police response activity. Each row is a record of a Call for Service (CfS) logged with the Seattle Police Department (SPD) Communications Center. Calls originated from the community and range from in progress or active emergencies to requests for problem solving. Additionally, officers will log calls from their observations of the field.</p>
</blockquote>
<p>Data Being Used: <a href="https://data.seattle.gov/Public-Safety/Call-Data/33kz-ixgy/about_data">Link</a></p>
<p>Details of the data are a bit less important here as I’m using it entirely for benchmarking. Details in the link for the curious.</p>
<table>
<thead>
<tr class="header">
<th>Metric</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>File Size</td>
<td>1.17GB</td>
</tr>
<tr class="even">
<td>Rows</td>
<td>5.75 Million</td>
</tr>
<tr class="odd">
<td>Columns</td>
<td>13</td>
</tr>
</tbody>
</table>
<p>Here is a snapshot of the data, excluding the final column which is just the latitude.</p>
<p><img src="images/data_head.png" /></p>
<p>This datasets fits my goals well. It’s over a gig in size and over 5 million rows. Perfect for what I’m trying to test.</p>
</div>
<div id="test-overview" class="section level1">
<h1>Test Overview</h1>
<p>I’ll be testing basic functionality here, nothing extremely rigorous. We’ll be examining the time it takes to read in data, perform basic filters, aggregations and selections. I collected 10 samples for data reading as it takes a while, but 100 samples for the rest of the tests.</p>
<p>I chose box plots for all of my visualizations as I found histograms to not be particularly informative in this specific case. All of my hypothesis tests have a pretty casual <span class="math inline">\(\alpha = 0.01\)</span> here. Though, really, these tests are mostly for fun and aren’t intended to be rigorous statistical examinations of these libraries.</p>
<p>If you want to take a look at the script I wrote for testing it can be found <a href="https://github.com/blamson/PolarsVSPandasBenchmarking/blob/main/run_trials.py">in this github repository here</a> though I will be including relevant snippets as we go.</p>
</div>
<div id="test-1-reading-in-data" class="section level1">
<h1>Test 1: Reading in Data</h1>
<p>Straightforward here, just used the <code>.read_csv</code> method for each library. I won’t be including the full trial function as it’s not particularly relevant. I collected data on 10 separate reads as previously mentioned. I considered the possibility of read ordering mattering in some niche possibility where weird cacheing happens, but found no difference.</p>
<pre><code># Pandas
start_time = time.time()
pd_df = pd.read_csv(path)
pd_end = time.time() - start_time

# Polars
start_time = time.time()
pl_df = pl.read_csv(path)
pl_end = time.time() - start_time</code></pre>
<div id="pandas" class="section level2">
<h2>Pandas</h2>
<div class="plotly html-widget html-fill-item" id="htmlwidget-1" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"visdat":{"b68f7db68be2":["function () ","plotlyVisDat"]},"cur_data":"b68f7db68be2","attrs":{"b68f7db68be2":{"x":[8.8983738422393799,10.053862810134888,10.276403903961182,9.9422049522399902,10.300371170043944,10.267850875854492,9.8911762237548846,10.00203800201416,10.314255952835085,10.231460094451904],"name":"","color":"red","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":50,"l":50,"t":50,"r":50},"title":"Pandas Time to Read Data","xaxis":{"domain":[0,1],"automargin":true,"title":"Time (Seconds)"},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(252,141,98,0.5)","x":[8.8983738422393799,10.053862810134888,10.276403903961182,9.9422049522399902,10.300371170043944,10.267850875854492,9.8911762237548846,10.00203800201416,10.314255952835085,10.231460094451904],"name":"","type":"box","orientation":"h","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="polars" class="section level2">
<h2>Polars</h2>
<div class="plotly html-widget html-fill-item" id="htmlwidget-2" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"visdat":{"b68f54001c53":["function () ","plotlyVisDat"]},"cur_data":"b68f54001c53","attrs":{"b68f54001c53":{"x":[0.63427424430847168,0.61210393905639648,0.62357711791992188,0.61669611930847168,0.64463186264038086,0.59777712821960449,0.61052608489990234,0.71142125129699707,0.64771723747253418,0.58459806442260742],"name":"","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":50,"l":50,"t":50,"r":50},"title":"Polars Time to Read Data","xaxis":{"domain":[0,1],"automargin":true,"title":"Time (Seconds)"},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":[0.63427424430847168,0.61210393905639648,0.62357711791992188,0.61669611930847168,0.64463186264038086,0.59777712821960449,0.61052608489990234,0.71142125129699707,0.64771723747253418,0.58459806442260742],"name":"","type":"box","orientation":"h","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="summary-tables" class="section level2">
<h2>Summary Tables</h2>
<p>Pandas Read Summary</p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   8.898   9.957  10.143  10.018  10.274  10.314</code></pre>
<p>Polars Read Summary</p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.5846  0.6109  0.6201  0.6283  0.6420  0.7114</code></pre>
</div>
<div id="hypothesis-test" class="section level2">
<h2>Hypothesis Test</h2>
<pre class="r"><code>t.test(df$polars_read_duration, df$pandas_read_duration)</code></pre>
<pre><code>## 
## 	Welch Two Sample t-test
## 
## data:  df$polars_read_duration and df$pandas_read_duration
## t = -69.762, df = 9.1241, p-value = 9.239e-14
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -9.693307 -9.085628
## sample estimates:
##  mean of x  mean of y 
##  0.6283323 10.0177998</code></pre>
<p>Okay so the results are in. There is a lot of evidence to indicate that polars is substantially more performant for reading in data than pandas. This difference is to such a degree I’m really only doing a t-test as a formality. This on its own is enough to sell me on at least keeping polars in my back pocket.</p>
</div>
</div>
<div id="test-2-filtering-data" class="section level1">
<h1>Test 2: Filtering Data</h1>
<p>Here I performed a very basic filter, I just wanted to look at all the rows where the call priority was 4. n=100 for each.</p>
<pre><code># Pandas trial
start_time = time.time()
pd_df.loc[pd_df[&quot;Priority&quot;] == 4]
pd_end = time.time() - start_time
duration_data[&quot;pandas_filtering_duration&quot;].append(pd_end)

# Polars trial
start_time = time.time()
pl_df.filter(pl.col(&quot;Priority&quot;) == 4)
pl_end = time.time() - start_time
duration_data[&quot;polars_filtering_duration&quot;].append(pl_end)</code></pre>
<div id="pandas-1" class="section level2">
<h2>Pandas</h2>
<div class="plotly html-widget html-fill-item" id="htmlwidget-3" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"visdat":{"b68f88b549f":["function () ","plotlyVisDat"]},"cur_data":"b68f88b549f","attrs":{"b68f88b549f":{"x":[0.2524261474609375,0.031522750854492188,0.031898021697998047,0.032020092010498047,0.031225919723510739,0.031972169876098633,0.031687021255493157,0.031541109085083008,0.031614065170288079,0.031909942626953118,0.031551837921142578,0.031882047653198242,0.032480001449584961,0.034241914749145508,0.031480073928833008,0.031498908996582031,0.0311737060546875,0.03114581108093261,0.031221866607666009,0.031425952911376953,0.031511783599853509,0.031899929046630859,0.031583070755004883,0.03130793571472168,0.032035112380981438,0.031985998153686523,0.032399177551269531,0.031548976898193359,0.031480789184570312,0.031646966934204102,0.031463146209716797,0.031816005706787109,0.031853914260864258,0.031409263610839837,0.031609058380126953,0.031345129013061523,0.031487941741943359,0.031418085098266602,0.031286239624023438,0.031720876693725579,0.031520843505859368,0.031737089157104492,0.031492948532104492,0.031411170959472649,0.031386137008666992,0.031596899032592773,0.031709194183349609,0.031296014785766602,0.031656026840209961,0.031423091888427727,0.031379938125610352,0.032073974609375,0.03130030632019043,0.031342983245849609,0.031495094299316399,0.032191038131713867,0.031569004058837891,0.031322956085205078,0.03108930587768554,0.03137516975402832,0.031547784805297852,0.031528949737548828,0.031355857849121087,0.03140711784362793,0.03162693977355957,0.031610012054443359,0.031485080718994141,0.031788110733032227,0.031515836715698242,0.03115797042846679,0.031538963317871087,0.03131103515625,0.031396865844726562,0.031615972518920898,0.032023906707763672,0.031629085540771477,0.031501054763793938,0.031355857849121087,0.031327962875366211,0.031766176223754883,0.031383037567138672,0.031346797943115227,0.031358003616333008,0.031606197357177727,0.031437873840332031,0.031371831893920898,0.031553983688354492,0.031431913375854492,0.031202077865600579,0.031225919723510739,0.031236171722412109,0.031671047210693359,0.031401872634887688,0.031681060791015618,0.031867027282714837,0.031917810440063477,0.031822919845581048,0.03133392333984375,0.031511068344116211,0.031774044036865227],"name":"","color":"red","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":50,"l":50,"t":50,"r":50},"title":"Pandas Time to Filter Data","xaxis":{"domain":[0,1],"automargin":true,"title":"Time (Seconds)"},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(252,141,98,0.5)","x":[0.2524261474609375,0.031522750854492188,0.031898021697998047,0.032020092010498047,0.031225919723510739,0.031972169876098633,0.031687021255493157,0.031541109085083008,0.031614065170288079,0.031909942626953118,0.031551837921142578,0.031882047653198242,0.032480001449584961,0.034241914749145508,0.031480073928833008,0.031498908996582031,0.0311737060546875,0.03114581108093261,0.031221866607666009,0.031425952911376953,0.031511783599853509,0.031899929046630859,0.031583070755004883,0.03130793571472168,0.032035112380981438,0.031985998153686523,0.032399177551269531,0.031548976898193359,0.031480789184570312,0.031646966934204102,0.031463146209716797,0.031816005706787109,0.031853914260864258,0.031409263610839837,0.031609058380126953,0.031345129013061523,0.031487941741943359,0.031418085098266602,0.031286239624023438,0.031720876693725579,0.031520843505859368,0.031737089157104492,0.031492948532104492,0.031411170959472649,0.031386137008666992,0.031596899032592773,0.031709194183349609,0.031296014785766602,0.031656026840209961,0.031423091888427727,0.031379938125610352,0.032073974609375,0.03130030632019043,0.031342983245849609,0.031495094299316399,0.032191038131713867,0.031569004058837891,0.031322956085205078,0.03108930587768554,0.03137516975402832,0.031547784805297852,0.031528949737548828,0.031355857849121087,0.03140711784362793,0.03162693977355957,0.031610012054443359,0.031485080718994141,0.031788110733032227,0.031515836715698242,0.03115797042846679,0.031538963317871087,0.03131103515625,0.031396865844726562,0.031615972518920898,0.032023906707763672,0.031629085540771477,0.031501054763793938,0.031355857849121087,0.031327962875366211,0.031766176223754883,0.031383037567138672,0.031346797943115227,0.031358003616333008,0.031606197357177727,0.031437873840332031,0.031371831893920898,0.031553983688354492,0.031431913375854492,0.031202077865600579,0.031225919723510739,0.031236171722412109,0.031671047210693359,0.031401872634887688,0.031681060791015618,0.031867027282714837,0.031917810440063477,0.031822919845581048,0.03133392333984375,0.031511068344116211,0.031774044036865227],"name":"","type":"box","orientation":"h","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="polars-1" class="section level2">
<h2>Polars</h2>
<div class="plotly html-widget html-fill-item" id="htmlwidget-4" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-4">{"x":{"visdat":{"b68f4a606723":["function () ","plotlyVisDat"]},"cur_data":"b68f4a606723","attrs":{"b68f4a606723":{"x":[0.016625881195068359,0.01055502891540527,0.010278940200805661,0.010632991790771479,0.01064896583557128,0.010118007659912109,0.01024508476257324,0.010122299194335931,0.01031398773193359,0.010331153869628899,0.01033806800842285,0.01124095916748046,0.01105403900146484,0.01029205322265625,0.01027393341064453,0.010282993316650391,0.01044821739196777,0.01032209396362304,0.010384798049926749,0.010537147521972649,0.010388851165771479,0.01028418540954589,0.010194778442382811,0.010186910629272459,0.010491847991943359,0.01090502738952636,0.010461807250976561,0.0103459358215332,0.01036787033081054,0.010423183441162109,0.01026797294616699,0.010270118713378899,0.010233163833618161,0.01024889945983886,0.01034021377563476,0.010244846343994141,0.010285854339599609,0.010351181030273431,0.01032090187072753,0.010274887084960931,0.010265827178955069,0.010277986526489249,0.010756015777587891,0.01035618782043457,0.01037502288818359,0.01028919219970703,0.010246992111206049,0.01053094863891601,0.010401010513305661,0.0103759765625,0.01020002365112304,0.010277986526489249,0.0103151798248291,0.01047468185424804,0.010303974151611319,0.01025223731994628,0.010564088821411129,0.01058578491210937,0.01044106483459472,0.010503768920898431,0.01023793220520019,0.010365009307861319,0.01032090187072753,0.01021480560302734,0.010248184204101561,0.010277748107910149,0.01020693778991699,0.0101931095123291,0.01038408279418945,0.01018786430358886,0.01030302047729492,0.01038002967834472,0.010388851165771479,0.010377883911132811,0.010236263275146479,0.01026511192321777,0.010271072387695311,0.010224819183349609,0.010232925415039061,0.01041316986083984,0.010304927825927729,0.010361909866332999,0.0103151798248291,0.010571002960205069,0.010317087173461911,0.010258197784423819,0.010304927825927729,0.010278940200805661,0.01029896736145019,0.010281801223754879,0.01021909713745117,0.01032495498657226,0.01021289825439453,0.01023697853088378,0.01029515266418457,0.010415077209472649,0.010304927825927729,0.01034903526306152,0.01033711433410644,0.010339021682739249],"name":"","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":50,"l":50,"t":50,"r":50},"title":"Polars Time to Filter Data","xaxis":{"domain":[0,1],"automargin":true,"title":"Time (Seconds)"},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":[0.016625881195068359,0.01055502891540527,0.010278940200805661,0.010632991790771479,0.01064896583557128,0.010118007659912109,0.01024508476257324,0.010122299194335931,0.01031398773193359,0.010331153869628899,0.01033806800842285,0.01124095916748046,0.01105403900146484,0.01029205322265625,0.01027393341064453,0.010282993316650391,0.01044821739196777,0.01032209396362304,0.010384798049926749,0.010537147521972649,0.010388851165771479,0.01028418540954589,0.010194778442382811,0.010186910629272459,0.010491847991943359,0.01090502738952636,0.010461807250976561,0.0103459358215332,0.01036787033081054,0.010423183441162109,0.01026797294616699,0.010270118713378899,0.010233163833618161,0.01024889945983886,0.01034021377563476,0.010244846343994141,0.010285854339599609,0.010351181030273431,0.01032090187072753,0.010274887084960931,0.010265827178955069,0.010277986526489249,0.010756015777587891,0.01035618782043457,0.01037502288818359,0.01028919219970703,0.010246992111206049,0.01053094863891601,0.010401010513305661,0.0103759765625,0.01020002365112304,0.010277986526489249,0.0103151798248291,0.01047468185424804,0.010303974151611319,0.01025223731994628,0.010564088821411129,0.01058578491210937,0.01044106483459472,0.010503768920898431,0.01023793220520019,0.010365009307861319,0.01032090187072753,0.01021480560302734,0.010248184204101561,0.010277748107910149,0.01020693778991699,0.0101931095123291,0.01038408279418945,0.01018786430358886,0.01030302047729492,0.01038002967834472,0.010388851165771479,0.010377883911132811,0.010236263275146479,0.01026511192321777,0.010271072387695311,0.010224819183349609,0.010232925415039061,0.01041316986083984,0.010304927825927729,0.010361909866332999,0.0103151798248291,0.010571002960205069,0.010317087173461911,0.010258197784423819,0.010304927825927729,0.010278940200805661,0.01029896736145019,0.010281801223754879,0.01021909713745117,0.01032495498657226,0.01021289825439453,0.01023697853088378,0.01029515266418457,0.010415077209472649,0.010304927825927729,0.01034903526306152,0.01033711433410644,0.010339021682739249],"name":"","type":"box","orientation":"h","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="summary-tables-1" class="section level2">
<h2>Summary Tables</h2>
<p>Pandas Filtering Summary</p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## 0.03109 0.03138 0.03152 0.03380 0.03171 0.25243</code></pre>
<p>Polars Filtering Summary</p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## 0.01012 0.01027 0.01031 0.01042 0.01039 0.01663</code></pre>
</div>
<div id="hypothesis-test-1" class="section level2">
<h2>Hypothesis Test</h2>
<pre class="r"><code>t.test(df$polars_filtering_duration, df$pandas_filtering_duration)</code></pre>
<pre><code>## 
## 	Welch Two Sample t-test
## 
## data:  df$polars_filtering_duration and df$pandas_filtering_duration
## t = -10.581, df = 99.171, p-value &lt; 2.2e-16
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -0.02776370 -0.01899504
## sample estimates:
##  mean of x  mean of y 
## 0.01041786 0.03379723</code></pre>
<p>So the box plots indicate that polars is indeed faster here too and the hypothesis test results indicate that we’ve got sufficient evidence to support this alternative hypothesis. Of note that this isn’t to an extreme degree even with such a large dataset, but yet another point for polars here.</p>
</div>
</div>
<div id="test-3-aggregating-data" class="section level1">
<h1>Test 3: Aggregating Data</h1>
<p>Here I performed a simple aggregation to get the mean of the priority column. n=100 for each.</p>
<pre><code># Pandas trial
start_time = time.time()
pd_df.groupby(&quot;Call Type&quot;)[&quot;Priority&quot;].mean()
pd_end = time.time() - start_time
duration_data[&quot;pandas_agg_duration&quot;].append(pd_end)

# Polars trial
start_time = time.time()
pl_df.group_by(&quot;Call Type&quot;).agg(pl.mean(&quot;Priority&quot;))
pl_end = time.time() - start_time
duration_data[&quot;polars_agg_duration&quot;].append(pl_end)</code></pre>
<div class="plotly html-widget html-fill-item" id="htmlwidget-5" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-5">{"x":{"visdat":{"b68f23f738d":["function () ","plotlyVisDat"]},"cur_data":"b68f23f738d","attrs":{"b68f23f738d":{"x":[0.11404585838317872,0.52159595489501953,0.053956031799316399,0.053382158279418938,0.057319879531860352,0.05824589729309082,0.059424877166748047,0.28264689445495605,0.05650019645690918,0.25192022323608398,0.20697331428527832,0.22512722015380859,0.058772087097167969,0.19084811210632324,0.19640111923217771,0.053190231323242188,0.20293617248535156,0.20198893547058103,0.1916811466217041,0.20416712760925293,0.21644997596740723,0.052433013916015618,0.1784977912902832,0.057084083557128899,0.053536176681518548,0.051809072494506829,0.053379058837890618,0.19582724571228027,0.19008374214172363,0.18319177627563477,0.1974480152130127,0.054385900497436523,0.053540706634521477,0.05261683464050293,0.19372987747192383,0.19491100311279297,0.052634954452514648,0.052503108978271477,0.188464879989624,0.1780543327331543,0.19343113899230957,0.062293052673339837,0.1854820251464844,0.054590940475463867,0.054095268249511719,0.053872108459472649,0.05443882942199707,0.055052995681762688,0.20868396759033203,0.054851055145263672,0.18246006965637207,0.18680405616760257,0.052837133407592773,0.053670167922973633,0.052849054336547852,0.19991278648376465,0.18670487403869629,0.2014610767364502,0.052252054214477539,0.18065929412841797,0.052257061004638672,0.19344067573547363,0.053521871566772461,0.18633437156677249,0.18475794792175293,0.053805112838745117,0.052553176879882812,0.19336795806884768,0.053586006164550781,0.2044987678527832,0.053678750991821289,0.054019927978515618,0.19647479057312012,0.1908409595489502,0.17991209030151367,0.052311182022094727,0.19139385223388672,0.053012847900390618,0.17961406707763672,0.20249295234680176,0.056661128997802727,0.20463895797729492,0.19428682327270508,0.052296876907348633,0.053442955017089837,0.055542945861816399,0.052823781967163079,0.18584489822387695,0.052113056182861328,0.18379807472229004,0.054499149322509759,0.18490886688232425,0.053175926208496087,0.17953395843505859,0.19377827644348145,0.17715811729431152,0.054265975952148438,0.055421352386474609,0.18417263031005859,0.054513931274414062],"name":"Polars","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"},"b68f23f738d.1":{"x":[0.21075296401977539,0.18733477592468264,0.19019794464111328,0.18813204765319824,0.18844127655029297,0.19022989273071289,0.18764281272888184,0.18991899490356445,0.19390511512756348,0.1859281063079834,0.19200372695922852,0.19097423553466797,0.18987083435058591,0.18873691558837891,0.18752193450927737,0.18710589408874512,0.19082808494567871,0.18931722640991211,0.18800091743469241,0.18922686576843264,0.20691394805908203,0.1877751350402832,0.18787312507629397,0.19061183929443359,0.18564295768737793,0.18599820137023929,0.18564200401306152,0.18633913993835449,0.19164228439331055,0.18670392036437988,0.18783116340637207,0.18613505363464355,0.18494915962219241,0.18590688705444336,0.18653202056884768,0.18756914138793945,0.18630886077880859,0.18497204780578613,0.18743300437927249,0.1862647533416748,0.1875920295715332,0.18681097030639648,0.18688106536865232,0.18738889694213867,0.18535709381103516,0.18530678749084473,0.18672418594360352,0.18447494506835935,0.18457174301147461,0.185046911239624,0.18474078178405759,0.18700695037841797,0.18754196166992188,0.1847381591796875,0.18482470512390137,0.18720102310180664,0.18697595596313477,0.18767094612121585,0.18781065940856936,0.18443608283996585,0.18605422973632812,0.18791103363037109,0.1871941089630127,0.18786406517028809,0.1877751350402832,0.18654108047485352,0.18454384803771973,0.18531680107116699,0.18752002716064453,0.1859588623046875,0.1871800422668457,0.18627810478210449,0.18617486953735352,0.18761897087097168,0.18722796440124512,0.18598389625549316,0.18568301200866699,0.1871795654296875,0.1864619255065918,0.18901920318603516,0.18874287605285645,0.18950986862182617,0.1890261173248291,0.18698287010192871,0.18589687347412109,0.18689084053039551,0.1855161190032959,0.18760800361633301,0.18808078765869141,0.1870689392089844,0.18989706039428711,0.1875457763671875,0.18634533882141113,0.18683505058288577,0.18782806396484375,0.18686103820800781,0.18672299385070801,0.18701791763305664,0.18749499320983887,0.18700098991394043],"name":"Pandas","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box","inherit":true}},"layout":{"margin":{"b":50,"l":50,"t":50,"r":50},"title":"Pandas Time to Aggregate Data","xaxis":{"domain":[0,1],"automargin":true,"title":"Time (Seconds)"},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":[0.11404585838317872,0.52159595489501953,0.053956031799316399,0.053382158279418938,0.057319879531860352,0.05824589729309082,0.059424877166748047,0.28264689445495605,0.05650019645690918,0.25192022323608398,0.20697331428527832,0.22512722015380859,0.058772087097167969,0.19084811210632324,0.19640111923217771,0.053190231323242188,0.20293617248535156,0.20198893547058103,0.1916811466217041,0.20416712760925293,0.21644997596740723,0.052433013916015618,0.1784977912902832,0.057084083557128899,0.053536176681518548,0.051809072494506829,0.053379058837890618,0.19582724571228027,0.19008374214172363,0.18319177627563477,0.1974480152130127,0.054385900497436523,0.053540706634521477,0.05261683464050293,0.19372987747192383,0.19491100311279297,0.052634954452514648,0.052503108978271477,0.188464879989624,0.1780543327331543,0.19343113899230957,0.062293052673339837,0.1854820251464844,0.054590940475463867,0.054095268249511719,0.053872108459472649,0.05443882942199707,0.055052995681762688,0.20868396759033203,0.054851055145263672,0.18246006965637207,0.18680405616760257,0.052837133407592773,0.053670167922973633,0.052849054336547852,0.19991278648376465,0.18670487403869629,0.2014610767364502,0.052252054214477539,0.18065929412841797,0.052257061004638672,0.19344067573547363,0.053521871566772461,0.18633437156677249,0.18475794792175293,0.053805112838745117,0.052553176879882812,0.19336795806884768,0.053586006164550781,0.2044987678527832,0.053678750991821289,0.054019927978515618,0.19647479057312012,0.1908409595489502,0.17991209030151367,0.052311182022094727,0.19139385223388672,0.053012847900390618,0.17961406707763672,0.20249295234680176,0.056661128997802727,0.20463895797729492,0.19428682327270508,0.052296876907348633,0.053442955017089837,0.055542945861816399,0.052823781967163079,0.18584489822387695,0.052113056182861328,0.18379807472229004,0.054499149322509759,0.18490886688232425,0.053175926208496087,0.17953395843505859,0.19377827644348145,0.17715811729431152,0.054265975952148438,0.055421352386474609,0.18417263031005859,0.054513931274414062],"name":"Polars","type":"box","orientation":"h","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"fillcolor":"rgba(255,127,14,0.5)","x":[0.21075296401977539,0.18733477592468264,0.19019794464111328,0.18813204765319824,0.18844127655029297,0.19022989273071289,0.18764281272888184,0.18991899490356445,0.19390511512756348,0.1859281063079834,0.19200372695922852,0.19097423553466797,0.18987083435058591,0.18873691558837891,0.18752193450927737,0.18710589408874512,0.19082808494567871,0.18931722640991211,0.18800091743469241,0.18922686576843264,0.20691394805908203,0.1877751350402832,0.18787312507629397,0.19061183929443359,0.18564295768737793,0.18599820137023929,0.18564200401306152,0.18633913993835449,0.19164228439331055,0.18670392036437988,0.18783116340637207,0.18613505363464355,0.18494915962219241,0.18590688705444336,0.18653202056884768,0.18756914138793945,0.18630886077880859,0.18497204780578613,0.18743300437927249,0.1862647533416748,0.1875920295715332,0.18681097030639648,0.18688106536865232,0.18738889694213867,0.18535709381103516,0.18530678749084473,0.18672418594360352,0.18447494506835935,0.18457174301147461,0.185046911239624,0.18474078178405759,0.18700695037841797,0.18754196166992188,0.1847381591796875,0.18482470512390137,0.18720102310180664,0.18697595596313477,0.18767094612121585,0.18781065940856936,0.18443608283996585,0.18605422973632812,0.18791103363037109,0.1871941089630127,0.18786406517028809,0.1877751350402832,0.18654108047485352,0.18454384803771973,0.18531680107116699,0.18752002716064453,0.1859588623046875,0.1871800422668457,0.18627810478210449,0.18617486953735352,0.18761897087097168,0.18722796440124512,0.18598389625549316,0.18568301200866699,0.1871795654296875,0.1864619255065918,0.18901920318603516,0.18874287605285645,0.18950986862182617,0.1890261173248291,0.18698287010192871,0.18589687347412109,0.18689084053039551,0.1855161190032959,0.18760800361633301,0.18808078765869141,0.1870689392089844,0.18989706039428711,0.1875457763671875,0.18634533882141113,0.18683505058288577,0.18782806396484375,0.18686103820800781,0.18672299385070801,0.18701791763305664,0.18749499320983887,0.18700098991394043],"name":"Pandas","type":"box","orientation":"h","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Pandas Aggregation Summary</p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.1844  0.1862  0.1872  0.1877  0.1879  0.2108</code></pre>
<p>Polars Aggregation Summary</p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## 0.05181 0.05368 0.14560 0.12883 0.19338 0.52160</code></pre>
<div id="hypothesis-test-2" class="section level2">
<h2>Hypothesis Test</h2>
<pre class="r"><code>t.test(df$polars_agg_duration, df$pandas_agg_duration)</code></pre>
<pre><code>## 
## 	Welch Two Sample t-test
## 
## data:  df$polars_agg_duration and df$pandas_agg_duration
## t = -7.1945, df = 99.364, p-value = 1.201e-10
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -0.07514010 -0.04265424
## sample estimates:
## mean of x mean of y 
## 0.1288286 0.1877258</code></pre>
<p>The box plot and test actually give us some interesting info here. We do have sufficient evidence to believe that polars is still faster here but the box plot gives more nuance. From the box plots we can see they’re quite close, which the confidence interval also indicates, but that pandas is far more consistent here. Polars has a surprisingly high variance when it comes to this very basic aggregation.</p>
</div>
</div>
<div id="test-4-selecting-columns" class="section level1">
<h1>Test 4: Selecting Columns</h1>
<p>Here we simply select the call type and priority columns. n=100 for each.</p>
<pre><code># Pandas trial
start_time = time.time()
pd_df[[&quot;Call Type&quot;, &quot;Priority&quot;]]
pd_end = time.time() - start_time
duration_data[&quot;pandas_select_duration&quot;].append(pd_end)

# Polars trial
start_time = time.time()
pl_df.select([&quot;Call Type&quot;, &quot;Priority&quot;])
pl_end = time.time() - start_time
duration_data[&quot;polars_select_duration&quot;].append(pl_end)</code></pre>
<div id="pandas-2" class="section level2">
<h2>Pandas</h2>
<div class="plotly html-widget html-fill-item" id="htmlwidget-6" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-6">{"x":{"visdat":{"b68f6bc4583f":["function () ","plotlyVisDat"]},"cur_data":"b68f6bc4583f","attrs":{"b68f6bc4583f":{"x":[0.05026698112487793,0.04885101318359375,0.049193143844604492,0.049257993698120117,0.0498809814453125,0.049220800399780273,0.049479246139526367,0.049324989318847649,0.049342870712280273,0.049831867218017578,0.049508094787597649,0.049558162689208977,0.049553871154785149,0.04923701286315918,0.049480915069580078,0.049302101135253899,0.0493011474609375,0.049499988555908203,0.051781892776489258,0.052113056182861328,0.049911022186279297,0.049419164657592773,0.049690961837768548,0.049467802047729492,0.049422025680541992,0.049359798431396477,0.050262928009033203,0.052029848098754883,0.050409078598022461,0.050113916397094727,0.049319028854370117,0.049230098724365227,0.049415111541748047,0.049103260040283203,0.049761056900024407,0.049425125122070312,0.049508094787597649,0.04957890510559082,0.049215316772460938,0.049414157867431641,0.049273967742919922,0.049376964569091797,0.049601078033447259,0.049108982086181641,0.049173116683959961,0.049387931823730469,0.049993038177490227,0.049170017242431641,0.049225807189941399,0.049215078353881829,0.049273014068603509,0.049218654632568359,0.049224138259887688,0.049323797225952148,0.049209117889404297,0.04902195930480957,0.049226999282836907,0.04930877685546875,0.049911022186279297,0.049417972564697259,0.049913883209228509,0.049643039703369141,0.049977779388427727,0.049600601196289062,0.04920506477355957,0.049229145050048828,0.049358129501342773,0.04974675178527832,0.049632787704467773,0.049778938293457031,0.04996800422668457,0.049988031387329102,0.049572944641113281,0.0504150390625,0.050031900405883789,0.048734903335571289,0.049137115478515618,0.049156665802001953,0.049695014953613281,0.049490213394165039,0.049166202545166009,0.049528837203979492,0.049351930618286133,0.049734830856323242,0.049656152725219727,0.049361944198608398,0.049459934234619141,0.049232006072998047,0.049413204193115227,0.049302816390991211,0.050011157989501953,0.049401998519897461,0.049226999282836907,0.049185991287231438,0.049304008483886719,0.049108982086181641,0.049559116363525391,0.049787044525146477,0.049551725387573242,0.049498796463012688],"name":"","color":"red","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":50,"l":50,"t":50,"r":50},"title":"Pandas Time to Select Columns","xaxis":{"domain":[0,1],"automargin":true,"title":"Time (Seconds)"},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(252,141,98,0.5)","x":[0.05026698112487793,0.04885101318359375,0.049193143844604492,0.049257993698120117,0.0498809814453125,0.049220800399780273,0.049479246139526367,0.049324989318847649,0.049342870712280273,0.049831867218017578,0.049508094787597649,0.049558162689208977,0.049553871154785149,0.04923701286315918,0.049480915069580078,0.049302101135253899,0.0493011474609375,0.049499988555908203,0.051781892776489258,0.052113056182861328,0.049911022186279297,0.049419164657592773,0.049690961837768548,0.049467802047729492,0.049422025680541992,0.049359798431396477,0.050262928009033203,0.052029848098754883,0.050409078598022461,0.050113916397094727,0.049319028854370117,0.049230098724365227,0.049415111541748047,0.049103260040283203,0.049761056900024407,0.049425125122070312,0.049508094787597649,0.04957890510559082,0.049215316772460938,0.049414157867431641,0.049273967742919922,0.049376964569091797,0.049601078033447259,0.049108982086181641,0.049173116683959961,0.049387931823730469,0.049993038177490227,0.049170017242431641,0.049225807189941399,0.049215078353881829,0.049273014068603509,0.049218654632568359,0.049224138259887688,0.049323797225952148,0.049209117889404297,0.04902195930480957,0.049226999282836907,0.04930877685546875,0.049911022186279297,0.049417972564697259,0.049913883209228509,0.049643039703369141,0.049977779388427727,0.049600601196289062,0.04920506477355957,0.049229145050048828,0.049358129501342773,0.04974675178527832,0.049632787704467773,0.049778938293457031,0.04996800422668457,0.049988031387329102,0.049572944641113281,0.0504150390625,0.050031900405883789,0.048734903335571289,0.049137115478515618,0.049156665802001953,0.049695014953613281,0.049490213394165039,0.049166202545166009,0.049528837203979492,0.049351930618286133,0.049734830856323242,0.049656152725219727,0.049361944198608398,0.049459934234619141,0.049232006072998047,0.049413204193115227,0.049302816390991211,0.050011157989501953,0.049401998519897461,0.049226999282836907,0.049185991287231438,0.049304008483886719,0.049108982086181641,0.049559116363525391,0.049787044525146477,0.049551725387573242,0.049498796463012688],"name":"","type":"box","orientation":"h","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="polars-2" class="section level2">
<h2>Polars</h2>
<div class="plotly html-widget html-fill-item" id="htmlwidget-7" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-7">{"x":{"visdat":{"b68f32ac423a":["function () ","plotlyVisDat"]},"cur_data":"b68f32ac423a","attrs":{"b68f32ac423a":{"x":[0.00014114379882812001,9.4890594482420005e-05,8.2969665527339996e-05,8.6784362792959995e-05,9.7036361694330001e-05,9.3936920166010001e-05,8.5830688476560006e-05,8.392333984375e-05,8.6069107055659997e-05,7.8916549682610005e-05,8.4877014160150002e-05,8.320808410644e-05,7.9870223999019995e-05,8.2015991210930005e-05,7.4148178100580001e-05,8.0108642578119999e-05,0.00010228157043457,9.918212890625e-05,8.8930130004879994e-05,0.00011205673217773,8.6069107055659997e-05,8.392333984375e-05,8.5830688476560006e-05,8.5115432739250006e-05,9.0122222900390002e-05,8.2015991210930005e-05,9.918212890625e-05,9.2029571533199994e-05,9.5129013061519995e-05,9.3936920166010001e-05,8.7022781372070001e-05,8.392333984375e-05,9.0122222900390002e-05,7.9154968261709995e-05,9.7036361694330001e-05,8.7022781372070001e-05,8.0823898315419997e-05,9.1791152954100004e-05,8.6069107055659997e-05,8.8930130004879994e-05,8.6069107055659997e-05,8.8930130004879994e-05,9.083747863769e-05,8.2969665527339996e-05,8.1062316894530003e-05,8.4877014160150002e-05,8.2015991210930005e-05,8.2969665527339996e-05,8.1062316894530003e-05,9.1314315795889994e-05,9.2029571533199994e-05,8.392333984375e-05,0.00010228157043457,8.4161758422850004e-05,8.5115432739250006e-05,8.8214874267569993e-05,7.7009201049799998e-05,8.2015991210930005e-05,8.5830688476560006e-05,8.6069107055659997e-05,8.2969665527339996e-05,0.0001070499420166,9.3221664428710002e-05,8.4877014160150002e-05,8.7022781372070001e-05,9.6797943115229998e-05,9.1791152954100004e-05,9.0122222900390002e-05,9.2029571533199994e-05,0.00010180473327636,8.392333984375e-05,7.7009201049799998e-05,8.7022781372070001e-05,0.00010514259338378,8.7022781372070001e-05,9.8943710327139994e-05,9.1075897216790004e-05,8.6069107055659997e-05,9.083747863769e-05,8.5115432739250006e-05,8.6069107055659997e-05,0.00010108947753906001,0.00011920928955078,8.7738037109369999e-05,9.4890594482420005e-05,8.2969665527339996e-05,7.9154968261709995e-05,9.2983245849599997e-05,7.8916549682610005e-05,7.9870223999019995e-05,9.5844268798819993e-05,8.7022781372070001e-05,7.8201293945310006e-05,8.2015991210930005e-05,8.2015991210930005e-05,0.00010991096496582,8.2254409790029996e-05,9.6797943115229998e-05,8.5830688476560006e-05,7.9154968261709995e-05],"name":"","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box"}},"layout":{"margin":{"b":50,"l":50,"t":50,"r":50},"title":"Polars Time to Select Columns","xaxis":{"domain":[0,1],"automargin":true,"title":"Time (Seconds)","showexponent":"all","exponentformat":"e"},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":[0.00014114379882812001,9.4890594482420005e-05,8.2969665527339996e-05,8.6784362792959995e-05,9.7036361694330001e-05,9.3936920166010001e-05,8.5830688476560006e-05,8.392333984375e-05,8.6069107055659997e-05,7.8916549682610005e-05,8.4877014160150002e-05,8.320808410644e-05,7.9870223999019995e-05,8.2015991210930005e-05,7.4148178100580001e-05,8.0108642578119999e-05,0.00010228157043457,9.918212890625e-05,8.8930130004879994e-05,0.00011205673217773,8.6069107055659997e-05,8.392333984375e-05,8.5830688476560006e-05,8.5115432739250006e-05,9.0122222900390002e-05,8.2015991210930005e-05,9.918212890625e-05,9.2029571533199994e-05,9.5129013061519995e-05,9.3936920166010001e-05,8.7022781372070001e-05,8.392333984375e-05,9.0122222900390002e-05,7.9154968261709995e-05,9.7036361694330001e-05,8.7022781372070001e-05,8.0823898315419997e-05,9.1791152954100004e-05,8.6069107055659997e-05,8.8930130004879994e-05,8.6069107055659997e-05,8.8930130004879994e-05,9.083747863769e-05,8.2969665527339996e-05,8.1062316894530003e-05,8.4877014160150002e-05,8.2015991210930005e-05,8.2969665527339996e-05,8.1062316894530003e-05,9.1314315795889994e-05,9.2029571533199994e-05,8.392333984375e-05,0.00010228157043457,8.4161758422850004e-05,8.5115432739250006e-05,8.8214874267569993e-05,7.7009201049799998e-05,8.2015991210930005e-05,8.5830688476560006e-05,8.6069107055659997e-05,8.2969665527339996e-05,0.0001070499420166,9.3221664428710002e-05,8.4877014160150002e-05,8.7022781372070001e-05,9.6797943115229998e-05,9.1791152954100004e-05,9.0122222900390002e-05,9.2029571533199994e-05,0.00010180473327636,8.392333984375e-05,7.7009201049799998e-05,8.7022781372070001e-05,0.00010514259338378,8.7022781372070001e-05,9.8943710327139994e-05,9.1075897216790004e-05,8.6069107055659997e-05,9.083747863769e-05,8.5115432739250006e-05,8.6069107055659997e-05,0.00010108947753906001,0.00011920928955078,8.7738037109369999e-05,9.4890594482420005e-05,8.2969665527339996e-05,7.9154968261709995e-05,9.2983245849599997e-05,7.8916549682610005e-05,7.9870223999019995e-05,9.5844268798819993e-05,8.7022781372070001e-05,7.8201293945310006e-05,8.2015991210930005e-05,8.2015991210930005e-05,0.00010991096496582,8.2254409790029996e-05,9.6797943115229998e-05,8.5830688476560006e-05,7.9154968261709995e-05],"name":"","type":"box","orientation":"h","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="summary-tables-2" class="section level2">
<h2>Summary Tables</h2>
<p>Pandas Filtering Summary</p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
## 0.04873 0.04923 0.04942 0.04956 0.04969 0.05211</code></pre>
<p>Polars Filtering Summary</p>
<pre><code>##      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. 
## 7.415e-05 8.297e-05 8.607e-05 8.904e-05 9.227e-05 1.411e-04</code></pre>
</div>
<div id="hypothesis-test-3" class="section level2">
<h2>Hypothesis Test</h2>
<pre class="r"><code>t.test(df$polars_select_duration, df$pandas_select_duration)</code></pre>
<pre><code>## 
## 	Welch Two Sample t-test
## 
## data:  df$polars_select_duration and df$pandas_select_duration
## t = -925.78, df = 99.064, p-value &lt; 2.2e-16
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -0.04957523 -0.04936317
## sample estimates:
##    mean of x    mean of y 
## 0.0000890398 0.0495582390</code></pre>
<p>This one is pretty convincing much like the read data. Selection, according to the boxplots, appears lightning fast in Polars and our test results show we have significant evidence to conclude that it is faster than Pandas. Realistically, they’re both very quick here so it isn’t a huge difference, but these types of performance wins add up a lot in a production environment when these operations need to be carried out potentially millions of times per day.</p>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>This was of course a pretty casual test. All the samples were taken from my Macbook Air and no other machines and the order of operations wasn’t randomized ever. I’m not intending this to be definitive proof of Polars being more performant, but these results show me that the claims Polars makes aren’t entirely full of hot air.</p>
<p>I intend to use Polars a lot more in the future and that read speed on its own has me extremely excited.</p>
</div>
